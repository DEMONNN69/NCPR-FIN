<!DOCTYPE html>
<html lang="en">

<head>
    {% load static tailwind_tags %}
    {%load static%}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real Estate Property</title>
    {% tailwind_css %}
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js"></script>
    <!-- Firebase Authentication SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js"></script>
    <!-- Your existing scripts and other head content -->
</head>

<body class="bg-black px-2">
    <div class="navbar flex justify-center my-2">
        <img src="/media/icons/image1.png" alt="harsh" class="h-8 lg:h-12">
    </div>

    <div class="block lg:grid grid-cols-3">
        <div class="property-container m-2 relative flex flex-col lg:w-[780px] ">
            <div class="property-image rounded-lg overflow-hidden h-[400px] lg:h-[535px] ">
                <img src="/media/{{prop.main_img}}" alt="Beautiful Family Home"
                    class="rounded-lg object-cover w-full h-full object-center md:object-contain lg:object-cover">
            </div>
            <a href="/moreimages/{{prop.id}}">
                <div
                    class="gallery-images flex h-14 rounded-lg absolute bottom-0 left-0 backdrop-blur-sm w-full px-2 p-1 group overflow-scroll lg:hidden ">

                    {% for img in photos %}
                    <img src="/media/{{img.image}}" alt="Property Image 1" class="h-full object-cover">
                    {% endfor %}
                    <span class="text-white pl-1 flex items-center group"><span>+ {{remaining}} More </span>

                        <img src="/media/icons/arrow copy.png" alt="" class="h-5 pl-1 ">
                    </span>
                </div>
            </a>
        </div>
        <a href="/moreimages/{{prop.id}}">
            <div
                class="gallery-images w-48 px-2 p-1 group overflow-scroll lg:block hidden float-right ">

                {% for img in photos %}
                <img src="/media/{{img.image}}" alt="Property Image 1" class="h-full object-cover">
                {% endfor %}
                <span class="text-white pl-1 flex items-center group"><span>+ {{remaining}} More </span>

                    <img src="/media/icons/arrow copy.png" alt="" class="h-5 pl-1 ">
                </span>
            </div>
        </a>

        <div class="property-details mt-6 lg:mt-1 mr-2">
            <div
                class="details-elements lg:block bg-transparent text-white rounded-lg p-2 mb-2 bg-orange-400 bg-opacity-15 border-[1px] border-orange-400 lg:w-[400px] space-y-3 lg:px-4 lg:mx-10">
                <h1 class="property-title text-2xl font-semibold my-4 col-span-2 text-center">{{prop.title}}</h1>
                <div class=" lg:border-none w-full lg:w-[20vw] pb-1 col-span-2 ">
                    <p><strong>Location: </strong><br>{{prop.address}}</p>
                </div>
                <div class="  lg:border-none  lg:w-[20vw] pb-1 ">
                    <p><strong>Price: </strong>{{prop.price}}</p>
                </div>
                <div class=" lg:border-none  lg:w-[20vw] pb-1 ">
                    <p><strong>Bedrooms: </strong>{{prop.bedrooms}}</p>
                </div>
                <div class=" lg:border-none  lg:w-[20vw] pb-1 ">
                    <p><strong>Bathrooms: </strong>{{prop.bathrooms}}</p>
                </div>
                <div class="lg:border-none  lg:w-[20vw] pb-1 ">
                    <p class="flex"><strong>Carpet Area:</strong> 
                        <button onclick="document.querySelector('.container').style.display='flex'" class="text-white">View <svg fill="#ffffff" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 448.004 448.004" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <path d="M46.139,217.607l-17.93-20.798C18.766,185.932,9.443,175.054,0,164.057l17.212-14.822 c9.323,10.877,18.767,21.755,28.209,32.632l17.93,20.798L46.139,217.607z M145.589,159.157l-24.265-66.34l-21.277,7.77 l24.265,66.34L145.589,159.157z M235.357,76.799h-22.711v70.643h22.711V76.799z M347.955,100.586l-21.275-7.77l-24.266,66.34 l21.277,7.77L347.955,100.586z M448.004,164.057l-17.213-14.822l-46.139,53.55l17.211,14.822L448.004,164.057z M404.852,268.049 l6.455,7.65l-6.455,7.649c-0.717,0.957-18.885,22.353-49.963,43.868c-41.598,28.808-86.779,43.987-130.768,43.987 c-43.988,0-89.29-15.18-130.767-43.987c-31.078-21.516-49.247-43.031-49.964-43.868l-6.455-7.649l6.455-7.65 c0.717-0.956,18.886-22.353,49.964-43.867c41.597-28.808,86.779-43.988,130.767-43.988c43.988,0,89.289,15.181,130.768,43.988 C385.967,245.697,404.016,267.212,404.852,268.049z M286.039,275.7c0-34.306-27.732-62.037-62.038-62.037 c-34.306,0-62.037,27.731-62.037,62.037s27.731,62.036,62.037,62.036C258.307,337.856,286.039,310.005,286.039,275.7z M224.001,294.585c-10.399,0-18.886-8.486-18.886-18.886s8.486-18.886,18.886-18.886v-23.906 c-23.548,0-42.792,19.244-42.792,42.792s19.244,42.792,42.792,42.792c23.547,0,42.792-19.244,42.792-42.792h-23.906 C242.887,286.218,234.4,294.585,224.001,294.585z"></path> </g> </g></svg></button></p>
                </div>
                <div class="col-span-2 ">
                    <p><strong>Description:</strong></p>
                    <div class="border rounded-lg border-white p-1 mt-2 h-28 overflow-y-scroll">{{prop.description}}
                    </div>
                </div>

                <button onclick="document.querySelector('.container').style.display='flex';"
                    class="bg-orange-500 text-white p-1 px-2 rounded-lg font-semibold my-4 col-span-2 w-full">Inquiry</button>

                    <p><strong>Google Map:</strong></p>
                    <div class="google-map overflow-hidden relative mt-4 ">
                        <iframe src="{{prop.map_url}}" width="450" height="250"  allowfullscreen="" loading="lazy"
                            referrerpolicy="no-referrer-when-downgrade"></iframe>
                    </div>
            </div>
        </div>
        <div> {% if messages %}

            {% for message in messages %}
            <li style="color: brown;">
                {{ message }}
            </li>
            {% endfor %}
            </ul>
            {% endif %}
        </div>
    </div>



    <div class=" space-y-6">
        <h2 class="font-semibold text-2xl mt-3 text-white flex items-center">Suggested according to
            <img src="/media/icons/arrow copy.png" alt="" class="mt-1 ml-3 h-6">
        </h2>

        <h1 class="font-semibold text-xl text-white">Similar price</h1>
        <div class="flex space-x-2 lg:space-x-4 overflow-x-scroll overflow-y-hidden ">
            <a href="prop_view/{{sp.id}}">
                <div class="property w-[206px] h-[345px]  lg:w-[280px] lg:h-[475px] flex flex-col relative group ">
                    <div class="display h-full w-full overflow-hidden rounded-3xl">
                        <img src="/media/{{sp.main_img}}" alt="Beautiful Family Home"
                            class="object-cover object-center w-full h-full group-hover:scale-110 duration-500">
                    </div>
                    <div
                        class="description h-[41%] lg:h-[35%] lg:mt-[111%] w-full space-y-2 px-2 mt-[100%] absolute backdrop-blur-lg rounded-3xl lg:space-y-4">
                        <h2
                            class="font-semibold bg-gradient-to-br from-white from-[-1rem] via-gray-900 via-50% to-black  bg-clip-text text-transparent text-2xl price">
                            ₹ {{ sp.price2 }}</h2>
                        <div class="flex gap-x-5 h-6 overflow-hidden text-white">
                            <p> {{ sp.title }}</p>
                            <p>|</p>
                            <p>{{ sp.bedrooms }}BHK</p>
                        </div>
                        <p class="text-white"> {{ sp.city }}- {{sp.zip_code }}</p>
                        <div
                            class="flex justify-between items-center rounded-3xl border border-black px-2 -mx-1 py-[2px]">
                            <span>
                                More details
                            </span>
                            <span class="group-hover:rotate-[360deg] duration-500">
                                <img src="/media/icons/arrow.png" alt="" class="h-6">
                            </span>
                        </div>

                    </div>
                </div>
            </a>
        </div>

        <h1 class="font-semibold text-xl text-white">More in {{prop.bedrooms}} BHK</h1>
        <div class="flex space-x-2 lg:space-x-4 overflow-x-scroll overflow-y-hidden ">
            <a href="prop_view/{{ss.id}}">
                <div class="property w-[206px] h-[345px]  lg:w-[280px] lg:h-[475px] flex flex-col relative group ">
                    <div class="display h-full w-full overflow-hidden rounded-3xl">
                        <img src="/media/{{ss.main_img}}" alt="Beautiful Family Home"
                            class="object-cover object-center w-full h-full group-hover:scale-110 duration-500">
                    </div>
                    <div
                        class="description h-[41%] lg:h-[35%] lg:mt-[111%] w-full space-y-2 px-2 mt-[100%] absolute backdrop-blur-lg rounded-3xl lg:space-y-4">
                        <h2
                            class="font-semibold bg-gradient-to-br from-white from-[-1rem] via-gray-900 via-50% to-black  bg-clip-text text-transparent text-2xl price">
                            ₹ {{ ss.price2 }}</h2>
                        <div class="flex gap-x-5 h-6 overflow-hidden text-white">
                            <p> {{ ss.title }}</p>
                            <p>|</p>
                            <p>{{ ss.bedrooms }}BHK</p>
                        </div>
                        <p class="text-white"> {{ ss.city }}- {{ss.zip_code }}</p>
                        <div
                            class="flex justify-between items-center rounded-3xl border border-black px-2 -mx-1 py-[2px]">
                            <span>
                                More details
                            </span>
                            <span class="group-hover:rotate-[360deg] duration-500">
                                <img src="/media/icons/arrow.png" alt="" class="h-6">
                            </span>
                        </div>

                    </div>
                </div>
            </a>
        </div>
        <h1 class="font-semibold text-xl text-white">More from {{prop.city}}</h1>
        <div class="flex space-x-2 lg:space-x-4 overflow-x-scroll overflow-y-hidden ">
            <a href="prop_view/{{sc.id}}">
                <div class="property w-[206px] h-[345px]  lg:w-[280px] lg:h-[475px] flex flex-col relative group ">
                    <div class="display h-full w-full overflow-hidden rounded-3xl">
                        <img src="/media/{{sc.main_img}}" alt="Beautiful Family Home"
                            class="object-cover object-center w-full h-full group-hover:scale-110 duration-500">
                    </div>
                    <div
                        class="description h-[41%] lg:h-[35%] lg:mt-[111%] w-full space-y-2 px-2 mt-[100%] absolute backdrop-blur-lg rounded-3xl lg:space-y-4">
                        <h2
                            class="font-semibold bg-gradient-to-br from-white from-[-1rem] via-gray-900 via-50% to-black  bg-clip-text text-transparent text-2xl price">
                            ₹ {{ sc.price2 }}</h2>
                        <div class="flex gap-x-5 h-6 overflow-hidden text-white">
                            <p> {{ sc.title }}</p>
                            <p>|</p>
                            <p>{{ sc.bedrooms }}BHK</p>
                        </div>
                        <p class="text-white"> {{ sc.city }}- {{sc.zip_code }}</p>
                        <div
                            class="flex justify-between items-center rounded-3xl border border-black px-2 -mx-1 py-[2px]">
                            <span>
                                More details
                            </span>
                            <span class="group-hover:rotate-[360deg] duration-500">
                                <img src="/media/icons/arrow.png" alt="" class="h-6">
                            </span>
                        </div>

                    </div>
                </div>
            </a>
        </div>
        <h1 class="font-semibold text-xl text-white">More from {{prop.devloper}}</h1>
        <div class="flex space-x-2 lg:space-x-4 overflow-x-scroll overflow-y-hidden ">
            <a href="prop_view/{{sd.id}}">
                <div class="property w-[206px] h-[345px]  lg:w-[280px] lg:h-[475px] flex flex-col relative group ">
                    <div class="display h-full w-full overflow-hidden rounded-3xl">
                        <img src="/media/{{sd.main_img}}" alt="Beautiful Family Home"
                            class="object-cover object-center w-full h-full group-hover:scale-110 duration-500">
                    </div>
                    <div
                        class="description h-[41%] lg:h-[35%] lg:mt-[111%] w-full space-y-2 px-2 mt-[100%] absolute backdrop-blur-lg rounded-3xl lg:space-y-4">
                        <h2
                            class="font-semibold bg-gradient-to-br from-white from-[-1rem] via-gray-900 via-50% to-black  bg-clip-text text-transparent text-2xl price">
                            ₹ {{ sd.price2 }}</h2>
                        <div class="flex gap-x-5 h-6 overflow-hidden text-white">
                            <p> {{ sd.title }}</p>
                            <p>|</p>
                            <p>{{ sd.bedrooms }}BHK</p>
                        </div>
                        <p class="text-white"> {{ sd.city }}- {{sd.zip_code }}</p>
                        <div
                            class="flex justify-between items-center rounded-3xl border border-black px-2 -mx-1 py-[2px]">
                            <span>
                                More details
                            </span>
                            <span class="group-hover:rotate-[360deg] duration-500">
                                <img src="/media/icons/arrow.png" alt="" class="h-6">
                            </span>
                        </div>

                    </div>
                </div>
            </a>
        </div>
    </div>

    <style>
        /* Scrollbar styling for Chrome, Safari, and Edge */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: #1e1e1e;
            /* Dark background for track */
        }

        ::-webkit-scrollbar-thumb {
            background-color: #888;
            /* Dark gray thumb */
            border-radius: 10px;
            border: 2px solid #1e1e1e;
            /* Match track background to make thumb appear smaller */
        }

        ::-webkit-scrollbar-thumb:hover {
            background-color: #555;
            /* Lighter gray on hover */
        }

        /* Scrollbar styling for Firefox */
        html {
            scrollbar-width: thin;
            scrollbar-color: #888 #1e1e1e;
            /* Thumb color #888, track color #1e1e1e */
        }

        html:hover {
            scrollbar-color: #555 #1e1e1e;
            /* Change thumb color on hover */
        }

        /* Overlay background */
        .container {
            display: none;
            /* Hidden by default */
            position: fixed;
            /* Stay in place */
            z-index: 1;
            /* Sit on top */
            left: 0;
            top: 0;
            width: 100%;
            /* Full width */
            height: 100%;
            /* Full height */
            overflow: auto;
            /* Enable scroll if needed */
            background-color: rgb(0, 0, 0);
            /* Fallback color */
            background-color: rgba(0, 0, 0, 0.4);
            /* Black w/ opacity */
            justify-content: center;
            /* Center the form horizontally */
            align-items: center;
            /* Center the form vertically */
        }

        /* Center the form */
        form {
            background-color: #fefefe;
            margin: auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 400px;
            /* Max width for the form */
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            position: relative;
            /* For the close button positioning */
        }

        /* Form group styling */
        .form-group {
            margin-bottom: 15px;
            border-top: none;
            border-left: none;
            border-right: none;
        }

        /* Close button */
    </style>

    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-analytics.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyDtS4uTzsCBKO1tpj6-UfhB00JmlG_ocvo",
            authDomain: "ncpr-acd83.firebaseapp.com",
            projectId: "ncpr-acd83",
            storageBucket: "ncpr-acd83.appspot.com",
            messagingSenderId: "1028406996510",
            appId: "1:1028406996510:web:d90688bc96a4b5a443880f",
            measurementId: "G-9THVBVHX2S"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
    </script>
    <script>
        function sendOTP() {
            const phoneNumber = document.getElementById('phone').value;

            firebase.auth().signInWithPhoneNumber(phoneNumber, window.recaptchaVerifier)
                .then((confirmationResult) => {
                    window.confirmationResult = confirmationResult;
                    alert('OTP sent successfully');
                })
                .catch((error) => {
                    console.error("Error during signInWithPhoneNumber", error);
                });
        }

        function verifyOTP() {
            const code = document.getElementById('otp').value;
            confirmationResult.confirm(code)
                .then((result) => {
                    result.user.getIdToken().then((idToken) => {
                        // Optionally, you can send this token to the server
                        alert('OTP verified successfully');
                        document.getElementById('contact-form').submit();  // Automatically submit the form after verification
                    });
                })
                .catch((error) => {
                    console.error("Error during OTP verification", error);
                    alert('Failed to verify OTP. Please try again.');
                });
        }



    </script>
    <div class="container relative">
        <form id="contact-form" action="/contactus" method="POST" class="rounded-2xl flex-col flex justify-center">
            <span
                class="close absolute cursor-pointer top-0 right-3 text-2xl font-black hover:text-red-600 text-gray-800"
                onclick="document.querySelector('.container').style.display='none';">&times;</span>
            {% csrf_token %}

            <div class="form-group text-xl font-semibold">
                <input type="hidden" id="property" name="property" value="{{prop.title}}">
                <label for="Property_name">{{prop.title}}</label>
            </div>

            <div class="form-group">
                <input type="text"
                    class="form-group ring-0 focus:border-orange-500 focus:border-b-2 focus:ring-0 w-full" id="name"
                    name="name" placeholder="Your Full Name">
            </div>

            <div class="form-group">
                <input type="tel" class="form-group ring-0 focus:border-orange-500 focus:border-b-2 focus:ring-0 w-full"
                    id="phone" name="phone" placeholder="Your Contact No." required>
                <button type="button" onclick="sendOTP()" class="bg-blue-500 text-black rounded-lg px-2 py-1 mt-2">
                    Get OTP
                </button>
            </div>

            <div class="form-group">
                <input type="text" id="otp" placeholder="Enter OTP"
                    class="form-group ring-0 focus:border-orange-500 focus:border-b-2 focus:ring-0 w-full">
                <button type="button" onclick="verifyOTP()" class="bg-green-500 text-white rounded-lg px-2 py-1 mt-2">
                    Verify OTP
                </button>
            </div>

            <div class="form-group">
                <input type="email"
                    class="form-group ring-0 focus:border-orange-500 focus:border-b-2 focus:ring-0 w-full" id="email"
                    name="email" required placeholder="Your Personal Email Address">
            </div>

            <button id="submit-button" type="submit" disabled
                class="bg-transparent border border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white rounded-lg px-2 py-1 active:bg-orange-600 shadow-xl font-semibold duration-300">
                Confirm
            </button>
        </form>
    </div>
    


</body>

</html>